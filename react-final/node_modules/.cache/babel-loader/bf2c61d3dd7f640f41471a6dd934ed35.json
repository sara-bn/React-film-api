{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\reyar\\\\Desktop\\\\SSD Projects\\\\React-film-api\\\\react-final\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\reyar\\\\Desktop\\\\SSD Projects\\\\React-film-api\\\\react-final\\\\src\\\\SearchResult.js\";\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Axios from \"axios\";\nimport \"./styles.css\";\nimport $ from \"jquery\";\n\nfunction SearchResult() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        movies = _useState2[0],\n        setMovies = _useState2[1];\n\n  useEffect(() => {\n    handleChange();\n  }, [movies]);\n\n  async function handleChange(selected) {\n    // const choice = document.getElementById(\"mySelect\").value;\n    // const url = `https://api.themoviedb.org/3/movie/${choice}?api_key=153693fafc14ce487b5a217264c74cb1&language=en-US`;\n    // const response = await Axios.get(url);\n    // const items = response.data;\n    // setItems(items.results);\n    performSearch();\n  }\n\n  function performSearch() {\n    console.log(\"Perform search\");\n    const urlString = `https://api.themoviedb.org/3/search/movie?query=avengers&api_key=153693fafc14ce487b5a217264c74cb1&language=en-US`;\n    $.ajax({\n      url: urlString,\n      success: searchResults => {\n        console.log(\"Fetched successfully\");\n        console.log(searchResults); //const results contain all the movies that we are searching for\n\n        const results = searchResults.results; //  console.log(results[0]);\n\n        var movieRows = [];\n        results.forEach(movie => {\n          console.log(movie.id); //   const movie_info =  <div>\n          //       {/* <img className=\"poster \" src={url + movie.poster_path} alt=\"o\" /> */}\n          //       <h1>{movie.title}</h1>\n          //       {/* <p>{item.release_date}</p>\n          //       <p> {item.vote_average}</p>\n          //       <p> {item.overview.substring(0, 120) + \"...\"}</p>\n          //       <a href={`/movie/${item.id}`}>More Info</a> */}\n          // </div>;\n          //  const movieRow = <MovieRow movie={movie} />\n          //  movieRows.push(movie_info);\n\n          setMovies(movies.results);\n          console.log(movies);\n        });\n        console.log(movieRows[0]); //  movies= [{rows : movieRows}]\n      },\n      error: (xhr, status, err) => {\n        console.error(\"Failed to fetch data\");\n      }\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"search\",\n    placeholder: \"Search Movie by Title\",\n    \"aria-label\": \"Search\",\n    name: \"search\",\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), movies.slice(0, 12).map(movie => React.createElement(\"div\", {\n    className: \"container\",\n    key: movie.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"d-flex flex-row row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"poster \",\n    src: url + movie.poster_path,\n    alt: \"o\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, movie.title), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, movie.release_date), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \" \", movie.vote_average), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \" \", movie.overview.substring(0, 120) + \"...\"), React.createElement(\"a\", {\n    href: `/movie/${item.id}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"More Info\"))))));\n}\n\nexport default SearchResult;","map":{"version":3,"sources":["C:/Users/reyar/Desktop/SSD Projects/React-film-api/react-final/src/SearchResult.js"],"names":["React","useState","useEffect","Link","Axios","$","SearchResult","movies","setMovies","handleChange","selected","performSearch","console","log","urlString","ajax","url","success","searchResults","results","movieRows","forEach","movie","id","error","xhr","status","err","slice","map","poster_path","title","release_date","vote_average","overview","substring","item"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,cAAP;AACA,OAAOC,CAAP,MAAc,QAAd;;AAEA,SAASC,YAAT,GAAwB;AAAA,oBACML,QAAQ,CAAC,EAAD,CADd;AAAA;AAAA,QACfM,MADe;AAAA,QACPC,SADO;;AAGtBN,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,YAAY;AACb,GAFQ,EAEN,CAACF,MAAD,CAFM,CAAT;;AAIA,iBAAeE,YAAf,CAA4BC,QAA5B,EAAsC;AACrC;AACC;AACA;AACA;AACA;AAEAC,IAAAA,aAAa;AACd;;AAED,WAASA,aAAT,GAAwB;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,UAAMC,SAAS,GAAI,kHAAnB;AACAT,IAAAA,CAAC,CAACU,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEF,SADF;AAEHG,MAAAA,OAAO,EAAGC,aAAD,IAAmB;AAC1BN,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYK,aAAZ,EAF0B,CAG1B;;AACA,cAAMC,OAAO,GAAGD,aAAa,CAACC,OAA9B,CAJ0B,CAK5B;;AAEA,YAAIC,SAAS,GAAG,EAAhB;AACED,QAAAA,OAAO,CAACE,OAAR,CAAiBC,KAAD,IAAW;AACzBV,UAAAA,OAAO,CAACC,GAAR,CAAYS,KAAK,CAACC,EAAlB,EADyB,CAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACJ;;AACCf,UAAAA,SAAS,CAACD,MAAM,CAACY,OAAR,CAAT;AACAP,UAAAA,OAAO,CAACC,GAAR,CAAYN,MAAZ;AACA,SAdC;AAeFK,QAAAA,OAAO,CAACC,GAAR,CAAYO,SAAS,CAAC,CAAD,CAArB,EAvB4B,CAwB1B;AACD,OA3BE;AA4BHI,MAAAA,KAAK,EAAE,CAACC,GAAD,EAAMC,MAAN,EAAcC,GAAd,KAAqB;AAC1Bf,QAAAA,OAAO,CAACY,KAAR,CAAc,sBAAd;AACD;AA9BE,KAAP;AAiCD;;AACD,SACC;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG;AACA,IAAA,IAAI,EAAC,QADL;AAEA,IAAA,WAAW,EAAC,uBAFZ;AAGA,kBAAW,QAHX;AAIA,IAAA,IAAI,EAAC,QAJL;AAKA,IAAA,QAAQ,EAAEf,YALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,EAQGF,MAAM,CAACqB,KAAP,CAAa,CAAb,EAAgB,EAAhB,EAAoBC,GAApB,CAAwBP,KAAK,IAC3B;AAAK,IAAA,SAAS,EAAC,WAAf;AAA2B,IAAA,GAAG,EAAEA,KAAK,CAACC,EAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACM;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAyB,IAAA,GAAG,EAAEP,GAAG,GAAGM,KAAK,CAACQ,WAA1C;AAAuD,IAAA,GAAG,EAAC,GAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKR,KAAK,CAACS,KAAX,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIT,KAAK,CAACU,YAAV,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAKV,KAAK,CAACW,YAAX,CAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAKX,KAAK,CAACY,QAAN,CAAeC,SAAf,CAAyB,CAAzB,EAA4B,GAA5B,IAAmC,KAAxC,CALF,EAME;AAAG,IAAA,IAAI,EAAG,UAASC,IAAI,CAACb,EAAG,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBANF,CADN,CADF,CADF,CARH,CADD;AAyBD;;AAED,eAAejB,YAAf","sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nimport \"./styles.css\";\r\nimport $ from \"jquery\";\r\n\r\nfunction SearchResult() {\r\n  const [movies, setMovies] = useState([]);\r\n\r\n  useEffect(() => {\r\n    handleChange();\r\n  }, [movies]);\r\n\r\n  async function handleChange(selected) {\r\n   // const choice = document.getElementById(\"mySelect\").value;\r\n    // const url = `https://api.themoviedb.org/3/movie/${choice}?api_key=153693fafc14ce487b5a217264c74cb1&language=en-US`;\r\n    // const response = await Axios.get(url);\r\n    // const items = response.data;\r\n    // setItems(items.results);\r\n\r\n    performSearch();\r\n  }\r\n\r\n  function performSearch(){\r\n    console.log(\"Perform search\");\r\n    const urlString = `https://api.themoviedb.org/3/search/movie?query=avengers&api_key=153693fafc14ce487b5a217264c74cb1&language=en-US`;\r\n    $.ajax({\r\n        url: urlString,\r\n        success: (searchResults) => {\r\n          console.log(\"Fetched successfully\");\r\n          console.log(searchResults);\r\n          //const results contain all the movies that we are searching for\r\n          const results = searchResults.results;\r\n        //  console.log(results[0]);\r\n\r\n        var movieRows = [];\r\n          results.forEach((movie) => {\r\n            console.log(movie.id);\r\n          //   const movie_info =  <div>\r\n          //       {/* <img className=\"poster \" src={url + movie.poster_path} alt=\"o\" /> */}\r\n          //       <h1>{movie.title}</h1>\r\n          //       {/* <p>{item.release_date}</p>\r\n          //       <p> {item.vote_average}</p>\r\n          //       <p> {item.overview.substring(0, 120) + \"...\"}</p>\r\n          //       <a href={`/movie/${item.id}`}>More Info</a> */}\r\n          // </div>;\r\n            //  const movieRow = <MovieRow movie={movie} />\r\n        //  movieRows.push(movie_info);\r\n         setMovies(movies.results);\r\n         console.log(movies);\r\n        })\r\n        console.log(movieRows[0]); \r\n          //  movies= [{rows : movieRows}]\r\n        },\r\n        error: (xhr, status, err) =>{\r\n          console.error(\"Failed to fetch data\")\r\n        }\r\n\r\n    })\r\n  }\r\n  return (\r\n   <div className=\"container\">\r\n      <input\r\n      type=\"search\"\r\n      placeholder=\"Search Movie by Title\"\r\n      aria-label=\"Search\"\r\n      name=\"search\"\r\n      onChange={handleChange}\r\n    />\r\n     {movies.slice(0, 12).map(movie => (\r\n        <div className=\"container\" key={movie.id}>\r\n          <div className=\"d-flex flex-row row\" >\r\n                <div className=\"item\">\r\n                  <img className=\"poster \" src={url + movie.poster_path} alt=\"o\" />\r\n                  <h1>{movie.title}</h1>\r\n                  <p>{movie.release_date}</p>\r\n                  <p> {movie.vote_average}</p>\r\n                  <p> {movie.overview.substring(0, 120) + \"...\"}</p>\r\n                  <a href={`/movie/${item.id}`}>More Info</a>\r\n                </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n   </div>\r\n  );\r\n}\r\n\r\nexport default SearchResult;\r\n"]},"metadata":{},"sourceType":"module"}