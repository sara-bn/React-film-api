{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\reyar\\\\Desktop\\\\SSD Projects\\\\React-film-api\\\\react-final\\\\src\\\\SearchResult.js\";\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Axios from \"axios\";\nimport \"./styles.css\";\nimport $ from \"jquery\";\n\nfunction SearchResult() {\n  //   const [items, setItems] = useState([]);\n  //   useEffect(() => {\n  //     handleChange();\n  //   }, [items]);\n  async function handleChange(selected) {\n    // const choice = document.getElementById(\"mySelect\").value;\n    // const url = `https://api.themoviedb.org/3/movie/${choice}?api_key=153693fafc14ce487b5a217264c74cb1&language=en-US`;\n    // const response = await Axios.get(url);\n    // const items = response.data;\n    // setItems(items.results);\n    performSearch();\n  } // constructor(props) {\n  //   super(props);\n  //   this.state={};\n  //   this.performSearch();\n  // }\n\n\n  function performSearch() {\n    console.log(\"Perform search\");\n    const urlString = `https://api.themoviedb.org/3/search/movie?query=avengers&api_key=153693fafc14ce487b5a217264c74cb1&language=en-US`;\n    $.ajax({\n      url: urlString,\n      success: searchResults => {\n        console.log(\"Fetched successfully\");\n        console.log(searchResults);\n        const results = searchResults.results; //  console.log(results[0]);\n\n        var movieRows = [];\n        results.forEach(movie => {\n          console.log(movie.title);\n          const movieRow = React.createElement(MovieRow, {\n            movie: movie,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44\n            },\n            __self: this\n          });\n          movieRows.push(movieRow);\n        });\n      },\n      error: (xhr, status, err) => {\n        console.error(\"Failed to fetch data\");\n      }\n    });\n  }\n\n  return React.createElement(\"input\", {\n    type: \"search\",\n    placeholder: \"Search Movie by Title\",\n    \"aria-label\": \"Search\",\n    name: \"search\",\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  });\n}\n\nexport default SearchResult;","map":{"version":3,"sources":["C:/Users/reyar/Desktop/SSD Projects/React-film-api/react-final/src/SearchResult.js"],"names":["React","useState","useEffect","Link","Axios","$","SearchResult","handleChange","selected","performSearch","console","log","urlString","ajax","url","success","searchResults","results","movieRows","forEach","movie","title","movieRow","push","error","xhr","status","err"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,cAAP;AACA,OAAOC,CAAP,MAAc,QAAd;;AAEA,SAASC,YAAT,GAAwB;AACxB;AAEA;AACA;AACA;AAEE,iBAAeC,YAAf,CAA4BC,QAA5B,EAAsC;AACrC;AACC;AACA;AACA;AACA;AACAC,IAAAA,aAAa;AACd,GAdqB,CAgBtB;AACA;AACA;AACA;AACA;;;AAEA,WAASA,aAAT,GAAwB;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,UAAMC,SAAS,GAAI,kHAAnB;AACAP,IAAAA,CAAC,CAACQ,IAAF,CAAO;AACHC,MAAAA,GAAG,EAAEF,SADF;AAEHG,MAAAA,OAAO,EAAGC,aAAD,IAAmB;AAC1BN,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYK,aAAZ;AACA,cAAMC,OAAO,GAAGD,aAAa,CAACC,OAA9B,CAH0B,CAI5B;;AAEA,YAAIC,SAAS,GAAG,EAAhB;AACED,QAAAA,OAAO,CAACE,OAAR,CAAiBC,KAAD,IAAW;AACvBV,UAAAA,OAAO,CAACC,GAAR,CAAYS,KAAK,CAACC,KAAlB;AACA,gBAAMC,QAAQ,GAAG,oBAAC,QAAD;AAAU,YAAA,KAAK,EAAEF,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAjB;AACAF,UAAAA,SAAS,CAACK,IAAV,CAAeD,QAAf;AACD,SAJH;AAKD,OAdE;AAeHE,MAAAA,KAAK,EAAE,CAACC,GAAD,EAAMC,MAAN,EAAcC,GAAd,KAAqB;AAC1BjB,QAAAA,OAAO,CAACc,KAAR,CAAc,sBAAd;AACD;AAjBE,KAAP;AAoBD;;AACD,SACE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,WAAW,EAAC,uBAFd;AAGE,kBAAW,QAHb;AAIE,IAAA,IAAI,EAAC,QAJP;AAKE,IAAA,QAAQ,EAAEjB,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AASD;;AAED,eAAeD,YAAf","sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nimport \"./styles.css\";\r\nimport $ from \"jquery\";\r\n\r\nfunction SearchResult() {\r\n//   const [items, setItems] = useState([]);\r\n\r\n//   useEffect(() => {\r\n//     handleChange();\r\n//   }, [items]);\r\n\r\n  async function handleChange(selected) {\r\n   // const choice = document.getElementById(\"mySelect\").value;\r\n    // const url = `https://api.themoviedb.org/3/movie/${choice}?api_key=153693fafc14ce487b5a217264c74cb1&language=en-US`;\r\n    // const response = await Axios.get(url);\r\n    // const items = response.data;\r\n    // setItems(items.results);\r\n    performSearch();\r\n  }\r\n\r\n  // constructor(props) {\r\n  //   super(props);\r\n  //   this.state={};\r\n  //   this.performSearch();\r\n  // }\r\n\r\n  function performSearch(){\r\n    console.log(\"Perform search\");\r\n    const urlString = `https://api.themoviedb.org/3/search/movie?query=avengers&api_key=153693fafc14ce487b5a217264c74cb1&language=en-US`;\r\n    $.ajax({\r\n        url: urlString,\r\n        success: (searchResults) => {\r\n          console.log(\"Fetched successfully\");\r\n          console.log(searchResults);\r\n          const results = searchResults.results;\r\n        //  console.log(results[0]);\r\n\r\n        var movieRows = [];\r\n          results.forEach((movie) => {\r\n              console.log(movie.title);\r\n              const movieRow = <MovieRow movie={movie} />\r\n              movieRows.push(movieRow);\r\n            })\r\n        },\r\n        error: (xhr, status, err) =>{\r\n          console.error(\"Failed to fetch data\")\r\n        }\r\n\r\n    })\r\n  }\r\n  return (\r\n    <input\r\n      type=\"search\"\r\n      placeholder=\"Search Movie by Title\"\r\n      aria-label=\"Search\"\r\n      name=\"search\"\r\n      onChange={handleChange}\r\n    />\r\n  );\r\n}\r\n\r\nexport default SearchResult;\r\n"]},"metadata":{},"sourceType":"module"}